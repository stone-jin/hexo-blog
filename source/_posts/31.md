---
title: （四）Spring Boot中使用Spring boot Admin遇到的问题-问题篇
cover: https://img.zcool.cn/community/011e475b86a540a80120245c336724.jpg@1280w_1l_2o_100sh.jpg
subtitle: Spring Boot中使用Spring boot Admin遇到的问题
date: 2018-05-01 14:11:16
author: 
  nick: 金炳
  link: https://www.github.com/stone-jin
categories:
- Spring Cloud
tags:
- JAVA
- Spring Cloud
---

## 一、为什么我的服务虽然注册上来了，但是是offline的？
前面我们介绍了如何使用Spring Boot Admin，然后那我们肯定是要部署到服务器上面，然后我们部署到服务器上面的时候，发现服务能显示服务注册上来了，但是就是offline。

解决办法：由于Spring Boot admin client注册上来的时候，是通过hostname注册的，然后如果Spring boot admin在另外一台机器，如果没有配置hosts的话，那就无法访问到这个服务器了。

所以配置方法就是修改/etc/hosts文件，添加对应的host了

## 二、服务注册的时候是hostname，而不是ip？
这个通过配置spring.boot.admin.client.prefer-ip=true来达到目的。这个时候，我们会看到注册上来的是127.0.0.1这个ip，那肯定是不对的，所以这个时候我们还要再加上spring.boot.admin.client.service-url=****这个来解决，也就是我们在Spring boot admin网页上看到的